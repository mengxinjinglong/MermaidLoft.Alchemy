@*
    For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - MermaidLoft.Alchemy</title>

    <environment names="Development">
        <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.css" />
        <link rel="stylesheet" href="~/css/datatables.min.css">
        <link rel="stylesheet" href="~/css/datatables.bootstrap.css">
        <link rel="stylesheet" href="~/css/components.min.css">
        <link rel="stylesheet" href="~/css/plugins.min.css">
        <link rel="stylesheet" href="~/css/font-awesome.min.css">
        <link rel="stylesheet" href="~/css/simple-line-icons.min.css">
        <link rel="stylesheet" href="~/css/login.min.css">
        <link rel="stylesheet" href="~/css/layout.min.css">
        <link rel="stylesheet" href="~/css/default.min.css">


    </environment>
    @*href="https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/css/bootstrap.min.css"*@
    <environment names="Staging,Production">
        <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css"
              asp-fallback-test-class="sr-only" asp-fallback-test-property="position" asp-fallback-test-value="absolute" />

        <link rel="stylesheet" href="~/css/datatables.min.css">
        <link rel="stylesheet" href="~/css/datatables.bootstrap.css">
        <link rel="stylesheet" href="~/css/components.min.css">
        <link rel="stylesheet" href="~/css/plugins.min.css">
        <link rel="stylesheet" href="~/css/font-awesome.min.css">
        <link rel="stylesheet" href="~/css/simple-line-icons.min.css">
        <link rel="stylesheet" href="~/css/login.min.css">
        <link rel="stylesheet" href="~/css/layout.min.css">
        <link rel="stylesheet" href="~/css/default.min.css">

        <link rel="stylesheet" href="~/css/site.min.css" asp-append-version="true" />
        <link rel="stylesheet" href="~/css/neat.css" asp-append-version="true" />
        <link rel="stylesheet" href="~/css/main.css" asp-append-version="true" />
        <link rel="stylesheet" href="~/css/font_1467774138_8826983.css" asp-append-version="true" />
    </environment>

</head>
<body class="login">
    <!-- BEGIN LOGO -->
    <div class="logo">
        <a href="index.html">
            <img src="../assets/pages/img/logo-big.png" alt="" />
        </a>
    </div>

    <div class="content">

        <!-- BEGIN Register FORM -->
        <form class="login-form" ng-app="registerApp" ng-controller="userRegisterCtrl">
            <div class="form-title">
                <span class="form-title">注册用户</span>
            </div>
            @*ng-show="loginForm.Username.$dirty && loginForm.Username.$invalid"*@
            <div class="alert alert-danger display-hide">
                <button class="close" data-close="alert"></button>
                <span> Enter any username and password. </span>
            </div>
            <div class="form-group">
                <!--ie8, ie9 does not support html5 placeholder, so we just show field title for that-->
                <label class="control-label visible-ie8 visible-ie9">用户账号</label>
                <input ng-model="user.Account" required class="form-control form-control-solid placeholder-no-fix" type="text" autocomplete="off" placeholder="用户账号" />
            </div>
            <div class="form-group">
                <!--ie8, ie9 does not support html5 placeholder, so we just show field title for that-->
                <label class="control-label visible-ie8 visible-ie9">用户名</label>
                <input ng-model="user.UserName" required class="form-control form-control-solid placeholder-no-fix" type="text" autocomplete="off" placeholder="用户名" />
            </div>
            <div class="form-group">
                <label class="control-label visible-ie8 visible-ie9">登录密码</label>
                <input ng-model="user.SecureCode" required class="form-control form-control-solid placeholder-no-fix" type="password" autocomplete="off" placeholder="登录密码" />
            </div>
            <div class="form-group">
                <label class="control-label visible-ie8 visible-ie9">确认密码</label>
                <input ng-model="user.ConfirmSecureCode" required class="form-control form-control-solid placeholder-no-fix" type="password" autocomplete="off" placeholder="确认密码" />
            </div>
            <div class="form-group">
                <!--ie8, ie9 does not support html5 placeholder, so we just show field title for that-->
                <label class="control-label visible-ie8 visible-ie9">邮箱</label>
                <input ng-model="user.Email" required class="form-control form-control-solid placeholder-no-fix" type="text" autocomplete="off" placeholder="邮箱" />
            </div>
            <div class="form-group">
                <!--ie8, ie9 does not support html5 placeholder, so we just show field title for that-->
                <label class="control-label visible-ie8 visible-ie9">联系方式</label>
                <input ng-model="user.PhoneNumber" required class="form-control form-control-solid placeholder-no-fix" type="text" autocomplete="off" placeholder="联系方式" />
            </div>
            <div class="form-group">
                <!--ie8, ie9 does not support html5 placeholder, so we just show field title for that-->
                <label class="control-label visible-ie8 visible-ie9">用户账号ID</label>
                <input ng-model="user.ShopUserNameId" required class="form-control form-control-solid placeholder-no-fix" type="text" autocomplete="off" placeholder="用户账号ID" />
            </div>
            <div class="form-group">
                <!--ie8, ie9 does not support html5 placeholder, so we just show field title for that-->
                <label class="control-label visible-ie8 visible-ie9">店铺名称</label>
                <input ng-model="user.ShopTitle" required class="form-control form-control-solid placeholder-no-fix" type="text" autocomplete="off" placeholder="店铺名称" />
            </div>
            <div class="form-actions">
                <button ng-click="register()" class="btn red btn-block uppercase">注册</button>
            </div>
        </form>
        <!-- END Register FORM -->
    </div>
    <script src="~/js/angular.min.js" asp-append-version="true"></script>
    <script>
        var app = angular.module('registerApp', []);
        app.controller('userRegisterCtrl', function ($scope, $http) {
            $scope.register = function () {
                
                $http.post('/user/post', $scope.user).success(function (response) {
                    if (response.status == 0) {
                        alert("注册成功，即将跳转到管理首页...");
                        window.location.href = 'login';
                    } else {
                        alert(response.message);
                    }
                    console.log(response);
                }).error(function (response) {
                    console.log('ERROR:' + response);
                    alert(response.message);
                });
            }
        });
    </script>
</body>
</html>