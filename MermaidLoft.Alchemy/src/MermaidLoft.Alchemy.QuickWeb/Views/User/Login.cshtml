@*
    For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<!-- BEGIN LOGIN FORM -->
<form class="login-form" ng-app="LoginApp" ng-controller="userCtrl">
    <div class="form-title">
        <span class="form-title">欢迎使用，</span>
        <span class="form-subtitle">请登陆.</span>
    </div>
    <div class="alert alert-danger display-hide" ng-show="loginForm.username.$dirty && loginForm.username.$invalid">
        <button class="close" data-close="alert"></button>
        <span> Enter any username and password. </span>
    </div>
    <div class="form-group">
        <!--ie8, ie9 does not support html5 placeholder, so we just show field title for that-->
        <label class="control-label visible-ie8 visible-ie9">用户账号</label>
        <input ng-model="user.userName" required class="form-control form-control-solid placeholder-no-fix" type="text" autocomplete="off" placeholder="用户账号" name="username" />
    </div>
    <div class="form-group">
        <label class="control-label visible-ie8 visible-ie9">登录密码</label>
        <input ng-model="user.secureCode" required class="form-control form-control-solid placeholder-no-fix" type="password" autocomplete="off" placeholder="登录密码" name="password" />
    </div>
    <div class="form-actions">
        <button ng-click="login()" class="btn red btn-block uppercase">登陆</button>
    </div>
</form>
<!-- END LOGIN FORM -->

<script>
		var app = angular.module('LoginApp', []);
		app.controller('userCtrl', function($scope,$http) {
			$scope.login = function()
			{
				console.log($scope.user);
				$http.post('User/Login',$scope.user).success(function(response){
				    console.log(response);
				    if (response.status == 'success')
					{
							//window.location.href = 'index';
						}else{
							alert(response.message);
						}
					console.log(response);
				}).error(function(response){
					console.log('ERROR:'+response);
					alert(response.message);
				});
			}
		});
</script>